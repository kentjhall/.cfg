vbox() {
	# parse args
	VM_NAME=
	VM_PORT=
	case "$1" in
		OS)
			VM_NAME="Debian (OS 4118)"
			VM_PORT=2222
			;;
		deb)
			VM_NAME="Debian Linux"
			VM_PORT=2200
			;;
		*)
			echo "Unrecognized VM identifier" >&2
			return 1
			;;
	esac
	ACTION="$2"

	# stopping the VM
	if [ "$ACTION" == "stop" ]; then
		ssh -p "$VM_PORT" kent@localhost sudo shutdown -h now
		return
	fi

	# rebooting the VM
	if [ "$ACTION" == "reboot" ]; then
		ssh -p "$VM_PORT" kent@localhost sudo shutdown -r now
	fi

	# start the VM (if not already running)	
	if ! VBoxManage list runningvms | grep "$VM_NAME" > /dev/null; then
		VBoxManage startvm "$VM_NAME" --type headless || return 1
	fi

	# ssh in (retries in case currently booting up)
	while :; do
		ssh -p "$VM_PORT" kent@localhost 2> /dev/null
		[ "$?" -eq 255 ] || break
	done

	return 0
}
